<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Multiple favicon formats with strong cache-busting -->
    <link rel="icon" type="image/svg+xml" href="logos/logo_64.svg?v=4&t=1734383500" />
    <link rel="shortcut icon" href="logos/logo_64.svg?v=4&t=1734383500" />
    <link rel="apple-touch-icon" href="logos/logo_192.svg?v=4&t=1734383500" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Test your knowledge of ancient civilizations and historical events with our comprehensive trivia app." />
    <meta name="theme-color" content="#1f2937" />
    <!-- Manifest with strong cache-busting -->
    <link rel="manifest" href="manifest.webmanifest?v=4&t=1734383500" />
    <!-- Force no-cache headers -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Ancient History Trivia</title>
    <script>
      // Aggressively clear all caches and force reload
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
          for(let registration of registrations) {
            registration.unregister();
          }
        });
      }
      
      // Clear all caches
      if ('caches' in window) {
        caches.keys().then(function(names) {
          names.forEach(function(name) {
            caches.delete(name);
          });
        });
      }
      
      // Force favicon refresh
      setTimeout(function() {
        var link = document.querySelector("link[rel~='icon']");
        if (link) {
          link.href = link.href.split('?')[0] + '?v=' + Date.now();
        }
      }, 100);
    </script>
    <script>
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // This script checks to see if a redirect is present in the query string,
      // converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...)
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
